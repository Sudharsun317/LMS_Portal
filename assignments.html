<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LMS Assignments</title>    
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <header>
        <h1>LMS PORTAL</h1>
    </header>
    <div class="bars">
        <div class="sidebar">
            
            <a href="dashboard.html" class="nav">Dashboard</a>
            <a href="courses.html" class="nav">Courses</a>
            <a href="assignments.html" class="nav active">Assignments</a>
            <a href="profile.html" class="nav">Profile</a>
        </div>
        
        <div class="mainbar">
            <!-- ASSIGNMENTS -->
            <h2>Assignments</h2>
            <div id="assignments" class="assignment-list"></div>
        </div>
    </div>
    
    <script>
        /* ========= ALERT SYSTEM ========= */
        function showAlert(message) {
            const alert = document.createElement("div");
            alert.className = "alert";
            alert.innerText = message;

            document.body.appendChild(alert);

            setTimeout(() => alert.remove(), 3000);
        }

        /* ========= ASSIGNMENT DATA ========= */
        const assignmentData = [
            { title: "C Programming", due: "2026-04-10", status: "Submitted" },
            { title: "HTML & CSS", due: "2026-04-10", status: "Submitted" },
            { title: "Git & GitHub", due: "2026-04-10", status: "Submitted" },
            { title: "JavaScript", due: "2026-04-01", status: "Pending" }
        ];

        const assignmentsDiv = document.getElementById("assignments");
        const today = new Date();

        /* ========= RENDER ASSIGNMENTS ========= */
        assignmentData.forEach((a, index) => {

            const dueDate = new Date(a.due);

            // Late logic
            if (today > dueDate && a.status === "Pending") {
                a.status = "Late";
            }

            const card = document.createElement("div");
            card.className = "assignment-card";
            card.style.animationDelay = `${index * 0.1}s`;

            card.innerHTML = `
                <div>
                    <h4>${a.title}</h4>
                    <p>Due: ${a.due}</p>
                </div>

                <div>
                    <p class="status ${a.status.toLowerCase()}">${a.status}</p>
                    <button 
                        ${a.status !== "Pending" ? "disabled" : ""} 
                        onclick="submitAssignment(${index})">
                        Submit
                    </button>
                </div>
            `;

            assignmentsDiv.appendChild(card);
        });

        /* ========= SUBMIT ASSIGNMENT ========= */
        function submitAssignment(index) {
            assignmentData[index].status = "Submitted";
            showAlert("Assignment Submitted Successfully âœ…");
            assignmentsDiv.innerHTML = "";
            assignmentData.forEach((_, i) => renderAgain(i));
        }

        /* ========= RERENDER ========= */
        function renderAgain() {
            location.reload(); // simple UI refresh
        }
    </script>

</body>
</html>

